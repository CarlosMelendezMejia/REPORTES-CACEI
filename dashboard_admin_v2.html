<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Atributos de Egreso por Indicadores</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            margin-bottom: 16px;
        }

        .logo-slot {
            width: 96px;
            height: 96px;
            border: 2px dashed rgba(255, 255, 255, 0.6);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.08);
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.92);
            font-weight: 700;
            font-size: 0.8rem;
            letter-spacing: 0.5px;
            user-select: none;
        }

        .header .university-info {
            flex: 1;
            text-align: center;
            margin-bottom: 10px;
        }

        .university-info {
            margin-bottom: 20px;
        }

        .university-name {
            font-size: 1.6rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .faculty-name {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .course-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .course-detail {
            text-align: center;
        }

        .course-label {
            font-size: 0.9rem;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .course-value {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .dashboard-title {
            background: linear-gradient(90deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
            padding: 30px;
            margin: 0;
        }

        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px 40px;
            margin-bottom: 20px;
        }

        .summary-card {
            background: linear-gradient(145deg, #f8f9ff 0%, #e8ecf7 100%);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            border-left: 4px solid #667eea;
            transition: transform 0.3s ease;
        }

        .summary-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.2);
        }

        .summary-value {
            font-size: 2.2rem;
            font-weight: 700;
            color: #2a5298;
            margin-bottom: 10px;
        }

        .summary-label {
            font-size: 0.95rem;
            color: #666;
            font-weight: 500;
        }

        .attributes-section {
            padding: 0 40px 40px;
        }

        /* Estilo para cada atributo como sección */
        .attribute-section {
            margin-bottom: 50px;
            background: linear-gradient(145deg, #fff 0%, #f8f9ff 100%);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(102, 126, 234, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        }

        .attribute-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: #2a5298;
            margin-bottom: 10px;
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .attribute-summary {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(102, 126, 234, 0.05);
            border-radius: 15px;
        }

        .attribute-score {
            font-size: 2rem;
            font-weight: 700;
            padding: 15px 25px;
            border-radius: 25px;
            color: white;
            text-align: center;
        }

        .score-excellent {
            background: linear-gradient(135deg, #4CAF50, #45a049);
        }

        .score-good {
            background: linear-gradient(135deg, #2196F3, #1976D2);
        }

        .score-satisfactory {
            background: linear-gradient(135deg, #FF9800, #F57C00);
        }

        .score-needs-improvement {
            background: linear-gradient(135deg, #f44336, #d32f2f);
        }

        /* Grid de indicadores */
        .indicators-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(550px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .indicator-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(102, 126, 234, 0.1);
            transition: transform 0.3s ease;
        }

        .indicator-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.15);
        }

        .indicator-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .indicator-title {
            font-size: 1rem;
            font-weight: 600;
            color: #2a5298;
            flex: 1;
            line-height: 1.3;
        }

        .indicator-score {
            font-size: 1.2rem;
            font-weight: 700;
            padding: 8px 16px;
            border-radius: 20px;
            color: white;
            min-width: 55px;
            text-align: center;
            margin-left: 15px;
        }

        .chart-container {
            position: relative;
            height: 280px;
            margin-bottom: 20px;
        }

        .evaluation-section {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .evaluation-title {
            font-size: 0.95rem;
            font-weight: 600;
            color: #2a5298;
            margin-bottom: 15px;
        }

        .evaluation-text {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            min-height: 100px;
            font-size: 0.9rem;
            line-height: 1.6;
            color: #555;
            resize: vertical;
            width: 100%;
            font-family: inherit;
        }

        /* Sección de evaluación general del atributo */
        .attribute-evaluation {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        .attribute-evaluation-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2a5298;
            margin-bottom: 15px;
            text-align: center;
        }

        .overall-analysis {
            background: linear-gradient(145deg, #fff 0%, #f8f9ff 100%);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 40px;
            border: 1px solid rgba(102, 126, 234, 0.1);
        }

        .analysis-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #2a5298;
            margin-bottom: 20px;
            text-align: center;
        }

        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
        }

        .analysis-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .analysis-card h4 {
            color: #2a5298;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .footer {
            background: #f8f9ff;
            padding: 25px 40px;
            text-align: center;
            color: #666;
            font-size: 0.9rem;
            border-top: 1px solid rgba(102, 126, 234, 0.1);
        }

        /* Aviso de error */
        #charts-error {
            display: none;
            margin: 0 40px 10px;
            padding: 12px 16px;
            border-radius: 10px;
            background: #ffe9e9;
            color: #a30000;
            border: 1px solid #ffb3b3;
            font-size: 0.95rem;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .container {
                margin: 0;
            }

            .header {
                padding: 20px;
            }

            .logo-slot {
                width: 72px;
                height: 72px;
                font-size: 0.75rem;
            }

            .university-name {
                font-size: 1.3rem;
            }

            .dashboard-title {
                font-size: 1.5rem;
                padding: 20px;
            }

            .summary-cards,
            .attributes-section {
                padding: 20px;
            }

            .indicators-grid {
                grid-template-columns: 1fr;
            }

            .course-info {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .indicator-header {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }

            .analysis-grid {
                grid-template-columns: 1fr;
            }

            .attribute-summary {
                flex-direction: column;
                gap: 15px;
            }
        }

        @media (max-width: 480px) {
            .chart-container {
                height: 220px;
            }

            .summary-cards {
                grid-template-columns: 1fr;
            }

            .logo-slot {
                width: 56px;
                height: 56px;
                font-size: 0.7rem;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <div class="header-top">
                <div class="logo-slot" id="logo-left" title="Espacio para escudo izquierdo">LOGO</div>
                <div class="university-info">
                    <h1 class="university-name">UNIVERSIDAD NACIONAL AUTÓNOMA DE MÉXICO</h1>
                    <h2 class="faculty-name">FACULTAD DE ESTUDIOS SUPERIORES ARAGÓN</h2>
                </div>
                <div class="logo-slot" id="logo-right" title="Espacio para escudo derecho">LOGO</div>
            </div>
            <div class="course-info">
                <div class="course-detail">
                    <div class="course-label">Materia</div>
                    <div class="course-value">Álgebra</div>
                </div>
                <div class="course-detail">
                    <div class="course-label">Profesor</div>
                    <div class="course-value">Mario Sosa Rodríguez</div>
                </div>
                <div class="course-detail">
                    <div class="course-label">Grupo</div>
                    <div class="course-value">1111</div>
                </div>
                <div class="course-detail">
                    <div class="course-label">Período</div>
                    <div class="course-value">2026-1</div>
                </div>
            </div>
        </div>

        <h2 class="dashboard-title">DASHBOARD - EVALUACIÓN DE ATRIBUTOS DE EGRESO POR INDICADORES</h2>

        <div id="charts-error">
            No se pudo cargar la librería de gráficas (Chart.js). Verifique su conexión a Internet o intente recargar la página.
        </div>

        <div class="summary-cards">
            <div class="summary-card">
                <div class="summary-value">32</div>
                <div class="summary-label">Estudiantes Evaluados</div>
            </div>
            <div class="summary-card">
                <div class="summary-value">4</div>
                <div class="summary-label">Atributos Evaluados</div>
            </div>
            <div class="summary-card">
                <div class="summary-value">12</div>
                <div class="summary-label">Indicadores Totales</div>
            </div>
            <div class="summary-card">
                <div class="summary-value">83.5%</div>
                <div class="summary-label">Promedio General</div>
            </div>
        </div>

        <div class="attributes-section">
            <!-- ATRIBUTO 1 -->
            <div class="attribute-section">
                <h3 class="attribute-title">AE1: Aplicar conocimientos matemáticos para resolver problemas de ingeniería</h3>
                
                <div class="attribute-summary">
                    <div>
                        <strong style="color: #2a5298; font-size: 1.1rem;">Promedio del Atributo:</strong>
                    </div>
                    <div class="attribute-score score-excellent">87%</div>
                </div>

                <div class="indicators-grid">
                    <!-- Indicador 1.1 -->
                    <div class="indicator-card">
                        <div class="indicator-header">
                            <h4 class="indicator-title">I1.1: Aplicar conceptos de álgebra lineal en la resolución de sistemas de ecuaciones</h4>
                            <div class="indicator-score score-excellent">90%</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="chart-1-1"></canvas>
                        </div>
                        <div class="evaluation-section">
                            <h5 class="evaluation-title">Observaciones del Indicador</h5>
                            <textarea class="evaluation-text">Los estudiantes demuestran excelente dominio en la resolución de sistemas de ecuaciones lineales. Muestran habilidades sólidas en métodos de eliminación gaussiana y sustitución. Se observa una mejora significativa en la interpretación geométrica de las soluciones.</textarea>
                        </div>
                    </div>

                    <!-- Indicador 1.2 -->
                    <div class="indicator-card">
                        <div class="indicator-header">
                            <h4 class="indicator-title">I1.2: Manipular expresiones algebraicas complejas</h4>
                            <div class="indicator-score score-good">85%</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="chart-1-2"></canvas>
                        </div>
                        <div class="evaluation-section">
                            <h5 class="evaluation-title">Observaciones del Indicador</h5>
                            <textarea class="evaluation-text">Buen nivel en la manipulación de expresiones algebraicas. Los estudiantes manejan correctamente la factorización y simplificación. Algunas dificultades menores en expresiones racionales complejas que requieren atención adicional.</textarea>
                        </div>
                    </div>

                    <!-- Indicador 1.3 -->
                    <div class="indicator-card">
                        <div class="indicator-header">
                            <h4 class="indicator-title">I1.3: Aplicar propiedades de números reales en cálculos</h4>
                            <div class="indicator-score score-excellent">88%</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="chart-1-3"></canvas>
                        </div>
                        <div class="evaluation-section">
                            <h5 class="evaluation-title">Observaciones del Indicador</h5>
                            <textarea class="evaluation-text">Excelente comprensión de las propiedades de los números reales. Los estudiantes aplican correctamente propiedades distributivas, asociativas y conmutativas. Demuestran precisión en operaciones con fracciones y decimales.</textarea>
                        </div>
                    </div>
                </div>

                <div class="attribute-evaluation">
                    <h4 class="attribute-evaluation-title">Evaluación General del Atributo AE1</h4>
                    <textarea class="evaluation-text" style="min-height: 120px;">El atributo AE1 muestra un desempeño sobresaliente con un promedio de 87%. Los estudiantes demuestran sólidos fundamentos matemáticos, particularmente en álgebra lineal y manipulación de expresiones. Las fortalezas incluyen el dominio de sistemas de ecuaciones y propiedades de números reales. Se recomienda reforzar el trabajo con expresiones racionales complejas para alcanzar la excelencia en todos los indicadores.</textarea>
                </div>
            </div>

            <!-- ATRIBUTO 2 -->
            <div class="attribute-section">
                <h3 class="attribute-title">AE3: Comunicar efectivamente ideas y resultados técnicos</h3>
                
                <div class="attribute-summary">
                    <div>
                        <strong style="color: #2a5298; font-size: 1.1rem;">Promedio del Atributo:</strong>
                    </div>
                    <div class="attribute-score score-good">82%</div>
                </div>

                <div class="indicators-grid">
                    <!-- Indicador 3.1 -->
                    <div class="indicator-card">
                        <div class="indicator-header">
                            <h4 class="indicator-title">I3.1: Explicar procedimientos matemáticos de forma clara y ordenada</h4>
                            <div class="indicator-score score-good">85%</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="chart-3-1"></canvas>
                        </div>
                        <div class="evaluation-section">
                            <h5 class="evaluation-title">Observaciones del Indicador</h5>
                            <textarea class="evaluation-text">Los estudiantes muestran buena capacidad para explicar sus procedimientos. La mayoría logra estructurar sus explicaciones de manera lógica. Se observa mejora en la claridad de la presentación oral de soluciones algebraicas.</textarea>
                        </div>
                    </div>

                    <!-- Indicador 3.2 -->
                    <div class="indicator-card">
                        <div class="indicator-header">
                            <h4 class="indicator-title">I3.2: Utilizar notación matemática apropiada y precisa</h4>
                            <div class="indicator-score score-satisfactory">78%</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="chart-3-2"></canvas>
                        </div>
                        <div class="evaluation-section">
                            <h5 class="evaluation-title">Observaciones del Indicador</h5>
                            <textarea class="evaluation-text">El uso de notación matemática requiere mejora. Aunque la mayoría comprende los conceptos, algunos estudiantes cometen errores en la escritura formal de expresiones. Se necesita mayor práctica en el uso correcto de símbolos y convenciones matemáticas.</textarea>
                        </div>
                    </div>

                    <!-- Indicador 3.3 -->
                    <div class="indicator-card">
                        <div class="indicator-header">
                            <h4 class="indicator-title">I3.3: Justificar pasos y decisiones en la resolución de problemas</h4>
                            <div class="indicator-score score-good">83%</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="chart-3-3"></canvas>
                        </div>
                        <div class="evaluation-section">
                            <h5 class="evaluation-title">Observaciones del Indicador</h5>
                            <textarea class="evaluation-text">Buen progreso en la justificación de procedimientos. Los estudiantes comienzan a explicar el porqué de sus decisiones matemáticas. Se observa mayor conciencia sobre la importancia de fundamentar cada paso en la resolución.</textarea>
                        </div>
                    </div>
                </div>

                <div class="attribute-evaluation">
                    <h4 class="attribute-evaluation-title">Evaluación General del Atributo AE3</h4>
                    <textarea class="evaluation-text" style="min-height: 120px;">El atributo AE3 presenta un desempeño bueno con 82% de promedio. Los estudiantes han desarrollado habilidades básicas de comunicación matemática, especialmente en la explicación oral de procedimientos. El área de mayor oportunidad es la notación matemática formal. Se recomienda implementar actividades específicas de escritura matemática y revisión de convenciones de notación.</textarea>
                </div>
            </div>

            <!-- ATRIBUTO 3 -->
            <div class="attribute-section">
                <h3 class="attribute-title">AE5: Identificar, formular y resolver problemas de ingeniería</h3>
                
                <div class="attribute-summary">
                    <div>
                        <strong style="color: #2a5298; font-size: 1.1rem;">Promedio del Atributo:</strong>
                    </div>
                    <div class="attribute-score score-excellent">89%</div>
                </div>

                <div class="indicators-grid">
                    <!-- Indicador 5.1 -->
                    <div class="indicator-card">
                        <div class="indicator-header">
                            <h4 class="indicator-title">I5.1: Identificar variables y parámetros relevantes en problemas contextualizados</h4>
                            <div class="indicator-score score-excellent">91%</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="chart-5-1"></canvas>
                        </div>
                        <div class="evaluation-section">
                            <h5 class="evaluation-title">Observaciones del Indicador</h5>
                            <textarea class="evaluation-text">Excelente capacidad para identificar elementos clave en problemas aplicados. Los estudiantes demuestran habilidad para extraer información relevante y distinguir entre variables dependientes e independientes en contextos de ingeniería.</textarea>
                        </div>
                    </div>

                    <!-- Indicador 5.2 -->
                    <div class="indicator-card">
                        <div class="indicator-header">
                            <h4 class="indicator-title">I5.2: Traducir problemas del mundo real a modelos algebraicos</h4>
                            <div class="indicator-score score-excellent">88%</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="chart-5-2"></canvas>
                        </div>
                        <div class="evaluation-section">
                            <h5 class="evaluation-title">Observaciones del Indicador</h5>
                            <textarea class="evaluation-text">Muy buen desempeño en modelación algebraica. Los estudiantes logran establecer ecuaciones apropiadas a partir de situaciones reales. Se observa mejora notable en la interpretación de enunciados y su traducción a lenguaje matemático.</textarea>
                        </div>
                    </div>

                    <!-- Indicador 5.3 -->
                    <div class="indicator-card">
                        <div class="indicator-header">
                            <h4 class="indicator-title">I5.3: Validar soluciones en el contexto del problema original</h4>
                            <div class="indicator-score score-excellent">88%</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="chart-5-3"></canvas>
                        </div>
                        <div class="evaluation-section">
                            <h5 class="evaluation-title">Observaciones del Indicador</h5>
                            <textarea class="evaluation-text">Excelente habilidad para validar resultados. Los estudiantes verifican que sus soluciones algebraicas tengan sentido en el contexto original del problema. Demuestran pensamiento crítico al analizar la coherencia de sus respuestas.</textarea>
                        </div>
                    </div>
                </div>

                <div class="attribute-evaluation">
                    <h4 class="attribute-evaluation-title">Evaluación General del Atributo AE5</h4>
                    <textarea class="evaluation-text" style="min-height: 120px;">El atributo AE5 alcanza un excelente desempeño con 89% de promedio. Los estudiantes han desarrollado sólidas competencias para abordar problemas de ingeniería desde una perspectiva algebraica. Sus fortalezas incluyen la identificación de variables, modelación matemática y validación de resultados. Este atributo representa una de las mayores fortalezas del grupo.</textarea>
                </div>
            </div>

            <!-- ATRIBUTO 4 -->
            <div class="attribute-section">
                <h3 class="attribute-title">AE7: Aprender de forma continua y autónoma</h3>
                
                <div class="attribute-summary">
                    <div>
                        <strong style="color: #2a5298; font-size: 1.1rem;">Promedio del Atributo:</strong>
                    </div>
                    <div class="attribute-score score-satisfactory">75%</div>
                </div>

                <div class="indicators-grid">
                    <!-- Indicador 7.1 -->
                    <div class="indicator-card">
                        <div class="indicator-header">
                            <h4 class="indicator-title">I7.1: Buscar y utilizar recursos adicionales para el aprendizaje</h4>
                            <div class="indicator-score score-satisfactory">78%</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="chart-7-1"></canvas>
                        </div>
                        <div class="evaluation-section">
                            <h5 class="evaluation-title">Observaciones del Indicador</h5>
                            <textarea class="evaluation-text">Los estudiantes muestran interés por buscar recursos adicionales, especialmente videos y tutoriales en línea. Sin embargo, necesitan desarrollar criterios más sólidos para evaluar la calidad y confiabilidad de las fuentes de información.</textarea>
                        </div>
                    </div>

                    <!-- Indicador 7.2 -->
                    <div class="indicator-card">
                        <div class="indicator-header">
                            <h4 class="indicator-title">I7.2: Demostrar iniciativa en la exploración de métodos alternativos</h4>
                            <div class="indicator-score score-satisfactory">73%</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="chart-7-2"></canvas>
                        </div>
                        <div class="evaluation-section">
                            <h5 class="evaluation-title">Observaciones del Indicador</h5>
                            <textarea class="evaluation-text">Algunos estudiantes muestran iniciativa para explorar métodos alternativos de resolución, pero la mayoría se limita a los métodos enseñados en clase. Se requiere mayor estímulo para fomentar la creatividad y exploración de diferentes enfoques.</textarea>
                        </div>
                    </div>

                    <!-- Indicador 7.3 -->
                    <div class="indicator-card">
                        <div class="indicator-header">
                            <h4 class="indicator-title">I7.3: Autorregular el proceso de aprendizaje y identificar áreas de mejora</h4>
                            <div class="indicator-score score-satisfactory">74%</div>
                        </div>
                        <div class="chart-container">
                            <canvas id="chart-7-3"></canvas>
                        </div>
                        <div class="evaluation-section">
                            <h5 class="evaluation-title">Observaciones del Indicador</h5>
                            <textarea class="evaluation-text">Los estudiantes están desarrollando habilidades de autoevaluación básicas. Pueden identificar algunos errores comunes, pero necesitan fortalecer la capacidad de planificar y monitorear su propio proceso de aprendizaje de manera más sistemática.</textarea>
                        </div>
                    </div>
                </div>

                <div class="attribute-evaluation">
                    <h4 class="attribute-evaluation-title">Evaluación General del Atributo AE7</h4>
                    <textarea class="evaluation-text" style="min-height: 120px;">El atributo AE7 presenta el mayor reto con un promedio de 75%. Aunque los estudiantes muestran interés por el autoaprendizaje, necesitan desarrollar estrategias más efectivas de estudio autónomo. Las principales áreas de oportunidad incluyen la evaluación crítica de fuentes, la exploración creativa de métodos alternativos y el desarrollo de habilidades metacognitivas. Se recomienda implementar actividades específicas de autorregulación del aprendizaje.</textarea>
                </div>
            </div>
        </div>

        <div class="overall-analysis">
            <h3 class="analysis-title">Análisis General y Recomendaciones</h3>
            <div class="analysis-grid">
                <div class="analysis-card">
                    <h4>Fortalezas Identificadas</h4>
                    <textarea class="evaluation-text" style="min-height: 120px;">• Excelente dominio en sistemas de ecuaciones lineales (I1.1 - 90%)
• Sobresaliente capacidad de modelación matemática (I5.2 - 88%) 
• Muy buena validación de soluciones en contexto (I5.3 - 88%)
• Sólida identificación de variables en problemas (I5.1 - 91%)
• Buena explicación oral de procedimientos (I3.1 - 85%)</textarea>
                </div>
                <div class="analysis-card">
                    <h4>Áreas de Mejora Prioritarias</h4>
                    <textarea class="evaluation-text" style="min-height: 120px;">• Notación matemática formal y precisa (I3.2 - 78%)
• Exploración de métodos alternativos (I7.2 - 73%)
• Autorregulación del aprendizaje (I7.3 - 74%)
• Expresiones algebraicas complejas (I1.2 - 85%)
• Uso crítico de recursos de aprendizaje (I7.1 - 78%)</textarea>
                </div>
                <div class="analysis-card">
                    <h4>Estrategias de Mejora Específicas</h4>
                    <textarea class="evaluation-text" style="min-height: 120px;">• Talleres de escritura matemática y uso correcto de notación
• Actividades de exploración dirigida de métodos múltiples
• Implementación de portafolios de aprendizaje autorregulado
• Ejercicios graduados con expresiones racionales complejas
• Capacitación en evaluación de fuentes académicas digitales</textarea>
                </div>
                <div class="analysis-card">
                    <h4>Seguimiento por Indicadores</h4>
                    <textarea class="evaluation-text" style="min-height: 120px;">• Evaluación mensual de indicadores con puntaje < 80%
• Retroalimentación específica por cada indicador evaluado
• Seguimiento individual de estudiantes en indicadores críticos
• Coordinación con materias subsecuentes para continuidad
• Registro detallado del progreso por indicador</textarea>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>Dashboard generado automáticamente el <strong id="fecha"></strong></p>
            <p>Sistema de Evaluación de Atributos de Egreso por Indicadores - UNAM FES Aragón</p>
        </div>
    </div>

    <script>
        // Configurar fecha
        document.getElementById('fecha').textContent = new Date().toLocaleDateString('es-MX', {
            year: 'numeric', month: 'long', day: 'numeric'
        });

        // Función para cargar Chart.js con fallback
        function ensureChartJs(callback) {
            if (window.Chart) {
                callback();
                return;
            }
            var alt = document.createElement('script');
            alt.src = 'https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js';
            alt.async = true;
            alt.onload = function () { callback(); };
            alt.onerror = function () {
                var warn = document.getElementById('charts-error');
                if (warn) warn.style.display = 'block';
            };
            document.head.appendChild(alt);
        }

        function initCharts() {
            // Configuración común para todas las gráficas
            const chartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { 
                        display: true, 
                        position: 'bottom',
                        labels: {
                            padding: 15,
                            usePointStyle: true
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function (context) {
                                const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                const percentage = Math.round((context.parsed / total) * 100);
                                return context.label + ': ' + context.parsed + ' estudiantes (' + percentage + '%)';
                            }
                        }
                    }
                }
            };

            // Etiquetas y colores estándar para todas las gráficas
            const performanceLabels = ['Excelente (90-100%)', 'Bueno (80-89%)', 'Satisfactorio (70-79%)', 'Requiere Mejora (<70%)'];
            const performanceColors = ['#4CAF50', '#2196F3', '#FF9800', '#f44336'];

            // Datos de ejemplo para cada indicador (total: 32 estudiantes)
            const indicatorData = {
                '1-1': [15, 11, 4, 2], // I1.1 - 90%
                '1-2': [10, 14, 6, 2], // I1.2 - 85%
                '1-3': [13, 12, 5, 2], // I1.3 - 88%
                '3-1': [11, 13, 6, 2], // I3.1 - 85%
                '3-2': [8, 11, 9, 4],  // I3.2 - 78%
                '3-3': [9, 14, 7, 2],  // I3.3 - 83%
                '5-1': [16, 10, 4, 2], // I5.1 - 91%
                '5-2': [13, 12, 5, 2], // I5.2 - 88%
                '5-3': [13, 11, 6, 2], // I5.3 - 88%
                '7-1': [7, 12, 9, 4],  // I7.1 - 78%
                '7-2': [6, 10, 11, 5], // I7.2 - 73%
                '7-3': [7, 11, 10, 4]  // I7.3 - 74%
            };

            // Crear gráficas para todos los indicadores
            Object.keys(indicatorData).forEach(indicatorId => {
                const chartElement = document.getElementById(`chart-${indicatorId}`);
                if (chartElement) {
                    new Chart(chartElement, {
                        type: 'pie',
                        data: {
                            labels: performanceLabels,
                            datasets: [{
                                label: 'Estudiantes',
                                data: indicatorData[indicatorId],
                                backgroundColor: performanceColors,
                                borderWidth: 2,
                                borderColor: '#fff'
                            }]
                        },
                        options: chartOptions
                    });
                }
            });
        }

        // Inicializar gráficas
        if (window.Chart) {
            initCharts();
        } else {
            ensureChartJs(initCharts);
        }

        // Función para exportar datos (opcional)
        function exportData() {
            // Aquí se podría implementar funcionalidad de exportación
            alert('Funcionalidad de exportación - Por implementar');
        }
    </script>
</body>

</html>